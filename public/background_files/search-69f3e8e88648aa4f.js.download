(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9276],{8749:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/search",function(){return r(29374)}])},56202:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});var n=r(85893),s=(r(67294),function(e){var t=e.title,r=(e.fixedData,e.avatar),s=e.CustomButtons,a=e.CustomButtonsTitle,i=e.subheading;return(0,n.jsxs)("div",{className:"flex flex-col mb-6 w-full",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center w-full",children:[(0,n.jsxs)("h1",{className:"flex items-center h-16 text-4xl font-medium text-white",children:[r," ",t," ",a]}),(0,n.jsx)("div",{className:"flex flex-row grow gap-1 justify-end justify-self-end items-center w-auto",children:s})]}),i&&(0,n.jsx)("h4",{className:"mt-2 text-xl text-left text-slate-300",children:i})]})})},29374:function(e,t,r){"use strict";r.r(t),r.d(t,{SearchButtons:function(){return N}});var n=r(85893),s=r(67294),a=r(53737),i=r(25675),o=r(41664),c=r(11163),u=r(86896),l=r(88305),d=r(68697),f=r(36090),h=r(50073),m=r(56202),p=r(40031),x=r(45591),b=r(4154),j=r(66320),g=r(27461),v=r(45332),y=r(37940);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(e){var t=(0,c.useRouter)().query;return(0,n.jsxs)("div",{className:"flex relative gap-2 w-full lg:w-auto",children:[(0,n.jsx)(o.default,{href:"".concat(y.jk.search,"/?search=").concat(t.search),children:(0,n.jsx)("a",{className:(0,v.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","search"===e&&"!border-slate-400"),children:"Similarity"})},"search"),(0,n.jsx)(o.default,{href:"".concat(y.jk.searchAdvanced,"/?search=").concat(t.search),children:(0,n.jsx)("a",{className:(0,v.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","searchAdvanced"===e&&"!border-slate-400"),children:"Advanced"})},"searchAdvanced")]})};t.default=function(){var e,t,r,i,o,y=(0,l.u)(x.w).useListOfJobs,S=(0,l.u)(b.V),k=(S.modalState,S.setModalState),E=S.query,O=(S.setQueryVal,S.setTempQuery,S.fullWidth),q=(0,c.useRouter)(),C=y({skipDedupe:!1,defaultSort:"hot",initialSettings:{jobStatus:"completed",search:"vector",amount:50,orderBy:(null===(e=q.query)||void 0===e?void 0:e.sort)||"hot",prompt:null===(t=q.query)||void 0===t?void 0:t.search}});(0,s.useEffect)((function(){setTimeout((function(){return C.firstLoad()}),1)}),[]),(0,s.useEffect)((function(){C.jobsList.length>0&&k((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}({},e,{jobDataArray:C.jobsList,jobDataArrayCache:C.jobsList})}))}),[C.jobsList,k]),(0,s.useEffect)((function(){C.isFirstRun||C.settings.prompt===E&&!!C.settings.prompt===!!E||(E&&(C.settings.prompt=E),C.search())}),[C.isFirstRun,C.settings.prompt,E]);var L=(0,u.Z)(),B=(0,s.useState)((0,d.Z)(E)?"https://cdn.midjourney.com/".concat(E,"/grid_0.webp"):null),P=B[0],A=B[1];return(0,s.useEffect)((function(){if(E){if((0,d.Z)(E))return A("https://cdn.midjourney.com/".concat(E,"/grid_0.webp"));if((0,v.EQ)(E,{includes:["cdn.midjourney.com","mj-gallery.com","i.mj.run"]}))return A(E)}A(null)}),[E,P]),(0,n.jsxs)(g.o,{title:L.formatMessage({id:"app.search"}),fullWidth:O,className:v.VU,icon:(0,n.jsx)(a.Z,{className:"text-[#95B4F0]",height:24}),meta:(0,n.jsx)(j.h,{title:"".concat(L.formatMessage({id:"app.midjourneyFeed"})).concat((null===(r=q.query)||void 0===r?void 0:r.search)?": ".concat(null===(i=q.query)||void 0===i?void 0:i.search," "):""),description:L.formatMessage({id:"app.feedOfTheLatest"})}),children:[(0,n.jsx)(m.m,{title:L.formatMessage({id:"app.search"}),CustomButtons:N("search")}),(0,n.jsx)(p.H,{query:null===(o=q.query)||void 0===o?void 0:o.jobId,returnHref:q.pathname}),P&&(0,n.jsx)("div",{className:"flex justify-between items-end",children:(0,n.jsx)(_,{image:P},E)}),(0,n.jsx)(h.Z,{fixedData:C,settings:{dedupe:!0}},C.settings.prompt),C.jobsList.length<=50&&"loading"!==C.loadingState&&!C.fetchError&&!C.searching&&(0,n.jsx)("div",{className:"flex justify-center py-6 w-full",children:(0,n.jsx)(f.Z,{className:"!px-3 m-auto min-w-[120px] max-w-fit text-blue-600 !bg-blue-900/40 hover:!bg-blue-900/80 rounded-full",tooltip:"Searches a wider pool of jobs but takes longer to load and may be higher quality but less accurate.",onClick:function(){C.refresh({hardReset:!0,querySettings:{amount:500}})},children:"Expand Search"})})]})};var _=function(e){var t=e.image;return(0,n.jsx)("div",{className:"flex flex-col justify-center items-center mb-4 rounded border-slate-800 .border .border-dashed",children:(0,n.jsx)(i.default,{onClick:function(){window.open(t,"_blank")},src:t,unoptimized:!0,alt:"Image Preview",layout:"intrinsic",width:128,height:128,objectFit:"contain",className:"bg-darkBlue-700 rounded-lg cursor-pointer"})})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=8749,e(e.s=t);var t}));var t=e.O();_N_E=t}]);